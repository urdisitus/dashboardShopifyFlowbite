<div class="container-fluid">

  <div class="row">
    <div class="col-md-12">
      <span><b style="font-size: 30px;">Notificación/Histórico</b></span>
    </div>

    <div class="col-md-12">
      <mat-card>
        <a routerLink="/notification">Ir a notificaciones</a>
        <div class="table-responsive">
          <mat-form-field style="margin-right: 10px;">
            <input #inputCriteria matInput placeholder="¿Que deseas buscar?">
          </mat-form-field>


          <div class="pull-right">
            <mat-form-field>
              <mat-label>Fecha Inicial</mat-label>
              <input matInput [matDatepicker]="picker" placeholder="Selecciona una fecha" required [(ngModel)]="fechaInicial" (dateChange)="changeDate($event)">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Fecha final</mat-label>
              <input matInput [matDatepicker]="picker2" placeholder="Selecciona una fecha" required [(ngModel)]="fechaFinal" (dateChange)="changeDate($event)">
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
          </div>

          <mat-table [dataSource]="_notiDataSource" style="width:100%">

            <ng-container matColumnDef="actions">
              <th mat-header-cell *matHeaderCellDef> </th>
              <td mat-cell *matCellDef="let element">
                <button mat-button (click)="ver(element);" >Ver envios</button>
              </td>
            </ng-container>

            <!-- Position Column -->
            <ng-container matColumnDef="sendDate">
              <th mat-header-cell *matHeaderCellDef> Fecha de envío </th>
              <td mat-cell *matCellDef="let element"> {{element.sendDate | date : 'M/d/yy, h:mm a'}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="sendUser">
              <th mat-header-cell *matHeaderCellDef> Usuario envío </th>
              <td mat-cell *matCellDef="let element"> {{element.sendUser}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="jobId">
              <th mat-header-cell *matHeaderCellDef> JobId </th>
              <td mat-cell *matCellDef="let element"> {{element.jobId}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef> Nombre </th>
              <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="segmentName">
              <th mat-header-cell *matHeaderCellDef> Segmento </th>
              <td mat-cell *matCellDef="let element"> {{element.segmentName}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef> Título </th>
              <td mat-cell *matCellDef="let element"> {{element.title}} </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="message">
              <th mat-header-cell *matHeaderCellDef>Mensaje</th>
              <td mat-cell *matCellDef="let element"> {{element.message}} </td>
            </ng-container>

            <ng-container matColumnDef="contentTypeId">
              <th mat-header-cell *matHeaderCellDef>Tipo</th>
              <td mat-cell *matCellDef="let element"> {{element.contentTypeId}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="element-row"></tr>
          </mat-table>
          <mat-paginator [length]="_notiDataSource?.resultPage?.totalElements" [pageSize]="initialSize" [pageSizeOptions]="[10, 50, 100, 200, 500, 1000]"></mat-paginator>
        </div>
      </mat-card>
    </div>
  </div>
</div>

